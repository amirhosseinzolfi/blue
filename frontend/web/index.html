<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chatbot - Web Interface</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-robot"></i> AI Chatbot</h1>
                <div class="header-controls">
                    <button id="newSessionBtn" class="btn btn-secondary">
                        <i class="fas fa-plus"></i> New Session
                    </button>
                    <button id="settingsBtn" class="btn btn-secondary">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </div>
        </header>

        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-history"></i> Chat History</h3>
                    <button id="toggleSidebar" class="btn btn-icon">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="session-info" id="sessionInfo">
                    <div class="info-item">
                        <span class="info-label">Session ID:</span>
                        <span class="info-value" id="sessionIdDisplay">Not connected</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Messages:</span>
                        <span class="info-value" id="messageCount">0</span>
                    </div>
                </div>
                
                <div class="chat-history" id="chatHistory">
                    <div class="history-placeholder">
                        <i class="fas fa-comment-dots"></i>
                        <p>No messages yet</p>
                    </div>
                </div>
            </aside>

            <!-- Chat Area -->
            <main class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <div class="message-avatar bot-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <h2>Welcome to AI Chatbot! ðŸ¤–</h2>
                            <p>I'm your AI assistant powered by LangGraph with tool capabilities.</p>
                            <div class="capabilities">
                                <div class="capability">
                                    <i class="fas fa-comments"></i>
                                    <span>Natural conversations</span>
                                </div>
                                <div class="capability">
                                    <i class="fas fa-calculator"></i>
                                    <span>Mathematical calculations</span>
                                </div>
                                <div class="capability">
                                    <i class="fas fa-clock"></i>
                                    <span>Current time & date</span>
                                </div>
                                <div class="capability">
                                    <i class="fas fa-search"></i>
                                    <span>Conversation history search</span>
                                </div>
                            </div>
                            <p>How can I help you today?</p>
                        </div>
                    </div>
                </div>

                <!-- Typing Indicator -->
                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <div class="message bot-message">
                        <div class="message-avatar bot-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="input-area">
                    <div class="input-container">
                        <input 
                            type="text" 
                            id="messageInput" 
                            placeholder="Type your message here..."
                            autocomplete="off"
                        >
                        <button id="sendBtn" class="send-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="input-actions">
                        <button id="clearBtn" class="btn btn-small">
                            <i class="fas fa-trash"></i> Clear Chat
                        </button>
                        <div class="connection-status" id="connectionStatus">
                            <i class="fas fa-circle"></i>
                            <span>Connecting...</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-cog"></i> Settings</h3>
                <button class="close-btn" id="closeSettings">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="apiUrl">API URL:</label>
                    <input type="text" id="apiUrl" value="http://localhost:8001">
                </div>
                <div class="setting-group">
                    <label for="systemPrompt">System Prompt:</label>
                    <textarea id="systemPrompt" rows="4" placeholder="Custom system prompt for the AI..."></textarea>
                </div>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="autoSave"> Auto-save conversations
                    </label>
                </div>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="showTimestamps"> Show message timestamps
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveSettings" class="btn btn-primary">Save Settings</button>
                <button id="resetSettings" class="btn btn-secondary">Reset to Default</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
